name: Documentation

on:
    release:
        types: [published]

jobs:
    build:
        runs-on: macos-latest
        steps:
        -   name: Checkout
            uses: actions/checkout@v2
        -   name: Set Version
            uses: danielr1996/envsubst-action@1.0.0
            with:
                input: .jazzy.tmpl.yaml
                output: .jazzy.yaml
            env:
                VERSION: ${{ github.ref }}
        -   name: Generate Documentation
            uses: steven0351/publish-jazzy-docs@v1
            with:
                personal_access_token: ${{ secrets.ACCESS_TOKEN }}
                config: .jazzy.yaml
